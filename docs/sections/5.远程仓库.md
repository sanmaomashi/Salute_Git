# git远程仓库

 6.5 远程分支管理 6.6 协同工作流程

## 一、查看远程仓库

如果想查看已经配置的远程仓库服务器，可以运行 git remote 命令。 它会列出指定的每一个远程服务器的简写。 如果已经克隆了远程仓库，那么至少应该能看到 origin ，这是 Git 克隆的仓库服务器的默认名字

```bash
 git remote 
 
 ########## 显示远程地址 fetch代表抓取 push代表推送 ##########
 git remote -v
 
 ########## 显示更详细的信息 ##########
 git remote show origin
```

## 二、添加远程仓库

运行以下命令添加一个新的远程 Git 仓库，同时指定一个可以引用的简写。远程仓库的名称跟本地仓库名称可以不一致，但最好一致。一个本地仓库可以添加多个远程地址。

```bash
git remote add <shortname> <url>      
git remote add origin <url>   
```

## 三、移除无效的远程仓库 

如果因为一些原因想要移除一个远程仓库 ，可以使用

```bash
git remote rm 名称
```

注意：此命令只是从本地移除远程仓库的记录，并不会真正影响到远程仓库，远程仓库还是存在的

## 四、从远程仓库中抓取与拉取 

### 1. git fetch

`git fetch` 是 Git 命令之一，用于从远程代码库获取最新的提交和分支信息，但不会自动将这些更改合并到本地代码库中。 `git fetch` 可以帮助您保持本地代码库和远程代码库之间的同步，以便在需要时进行合并或拉取最新的更改。

以下是使用 `git fetch` 命令的基本语法：

```bash
git fetch [remote-name]
```

其中，`remote-name` 是远程代码库的名称。默认情况下，Git 会将远程代码库命名为 `origin`。

举个例子，如果您要从名为 `origin` 的远程代码库获取最新的提交和分支信息，可以运行以下命令：

```bash
git fetch origin
```

当您运行 `git fetch` 命令时，Git 将检查远程代码库中的所有分支，并将最新的提交信息下载到本地代码库的 `.git` 目录中。但是请注意，这些提交信息并不会自动合并到本地代码库中。如果您想要将这些更改合并到本地代码库中，请运行 `git merge` 命令或 `git pull` 命令。

`git fetch` 命令的另一个常用选项是 `-p` 或 `--prune`，它可以用于从本地代码库中删除不再存在于远程代码库中的分支。例如，要从远程代码库中获取最新的提交和分支信息，并从本地代码库中删除不存在于远程代码库中的分支，可以运行以下命令：

```bash
git fetch -p origin
```

抛弃本地所有的修改，回到远程仓库的状态。

```bash
git fetch --all && git reset --hard origin/master
```

总之，`git fetch` 命令是管理 Git 代码库的重要工具之一，它可以帮助您保持本地代码库和远程代码库之间的同步，并确保您始终拥有最新的提交和分支信息。

### 2. git pull 

在 Git 中，`git pull` 命令用于从远程代码库获取最新的更改并将它们合并到当前分支中。 `git pull` 命令实际上是 `git fetch` 和 `git merge` 命令的组合。当您运行 `git pull` 命令时，Git 将首先从远程代码库获取最新的提交和分支信息，然后将其合并到本地分支中。

以下是使用 `git pull` 命令的基本语法：

```bash
git pull [options] [remote-name] [branch-name]
```

其中，`remote-name` 是远程代码库的名称，`branch-name` 是要拉取的分支的名称。如果未指定分支名称，则将默认使用当前分支。

举个例子，如果您要从名为 `origin` 的远程代码库的 `master` 分支中获取最新的提交并将其合并到当前分支中，可以运行以下命令：

```bash
git pull origin master
```

如果您当前已经在 `master` 分支上，则可以省略分支名称，只运行以下命令即可：

```bash
git pull origin
```

当您运行 `git pull` 命令时，Git 将从远程代码库中获取最新的提交和分支信息，并将其合并到当前分支中。如果远程代码库中的更改与本地代码库中的更改冲突，则可能需要手动解决冲突。在这种情况下，建议先运行 `git fetch` 命令，以便检查远程代码库中的更改，并手动解决任何冲突，然后再运行 `git pull` 命令。

请注意，如果您在进行合并之前没有先获取最新的提交和分支信息，则可能会导致合并冲突。因此，在运行 `git pull` 命令之前，建议先运行 `git fetch` 命令，以确保您始终使用最新的代码。

总之，`git pull` 命令是管理 Git 代码库的重要工具之一，它可以帮助您获取最新的更改并将其合并到本地分支中。

## 五、推送到远程仓库 

### 1. git push

在 Git 中，将本地更改推送到远程代码库是管理代码库的重要步骤之一。以下是推送本地更改到远程仓库的基本教程：

1. 首先，在您的本地仓库中进行所需的更改，并确保已经将这些更改提交到本地仓库中。使用 `git add` 命令添加要提交的文件，使用 `git commit` 命令提交更改。
2. 然后，运行 `git push` 命令将本地更改推送到远程仓库。默认情况下，`git push` 命令将本地代码推送到与您的本地代码库关联的远程代码库中。

以下是使用 `git push` 命令的基本语法：

```bash
git push [remote-name] [branch-name]
```

其中，`remote-name` 是远程代码库的名称，`branch-name` 是要推送的分支的名称。如果未指定分支名称，则将默认使用当前分支。

例如，要将当前分支中的更改推送到名为 `origin` 的远程代码库中的 `master` 分支，请运行以下命令：

```bash
git push origin master
```

如果您要将当前分支中的更改推送到默认的远程代码库中的默认分支，请运行以下命令：

```bash
git push
```

在运行 `git push` 命令之前，请确保您已经获取了最新的提交和分支信息，并解决了任何冲突。如果您的本地更改与远程代码库中的更改冲突，则可能需要手动解决冲突。在这种情况下，建议先运行 `git fetch` 命令，以便检查远程代码库中的更改，并手动解决任何冲突，然后再运行 `git push` 命令。

总之，`git push` 命令是将本地更改推送到远程代码库的重要工具之一。通过使用适当的命令选项和参数，您可以轻松地将本地更改推送到远程代码库，并确保代码库的稳定性和可靠性。

### 2. force push

在 Git 中，强制推送（force push）是一种将本地更改强制推送到远程代码库的方法，即使本地代码库中的提交历史与远程代码库中的提交历史不同，也可以强制推送更改。 强制推送可以用于解决冲突或撤销错误的提交，但它可能会破坏其他人的工作，因此应该谨慎使用。

以下是使用 `git push` 命令进行强制推送的基本语法：

```
git push --force [remote-name] [branch-name]
```

其中，`remote-name` 是远程代码库的名称，`branch-name` 是要推送的分支的名称。如果未指定分支名称，则将默认使用当前分支。

例如，要将当前分支中的更改强制推送到名为 `origin` 的远程代码库中的 `master` 分支，请运行以下命令：

```
git push --force origin master
```

请注意，强制推送会覆盖远程代码库中的所有更改，并可能导致数据丢失。因此，请仔细考虑使用强制推送，并确保在进行推送之前备份代码库。如果可能，建议先通过其他方式解决冲突或恢复更改，而不是使用强制推送。

总之，强制推送是一种将本地更改强制推送到远程代码库的方法，但它可能会导致数据丢失或破坏其他人的工作，因此应该谨慎使用。

## 六、修改远程仓库的 url

在 Git 中，您可以通过修改远程仓库的 URL 来更改代码库的位置。这可能是因为您要将代码库从一个托管服务迁移到另一个托管服务，或者因为您要更改代码库的位置或名称。

以下是修改远程仓库 URL 的基本教程：

1. 确定您要更改的远程仓库的名称。要查看您当前使用的远程仓库的名称，请运行 `git remote -v` 命令。
2. 运行 `git remote set-url` 命令，并指定要更改的远程仓库的名称和新的 URL。例如，要将名为 `origin` 的远程仓库的 URL 更改为 `git@github.com:username/new-repo.git`，可以运行以下命令：

```bash
git remote set-url origin git@github.com:username/new-repo.git
```

1. 验证您已成功更改远程仓库的 URL。要验证更改是否生效，请运行 `git remote -v` 命令，确保显示的 URL 已更新为新的 URL。

请注意，如果您的远程仓库需要身份验证，例如使用 SSH 密钥或用户名和密码，请确保在更改 URL 之前更新身份验证信息。否则，您可能无法访问新的远程仓库。

总之，通过修改远程仓库的 URL，您可以更改代码库的位置或名称，并确保您的本地仓库与新位置保持同步。
